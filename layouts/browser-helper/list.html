{{ define "main" }}
<!-- Hero -->
<section class="pv-bh-hero">
  <div class="pv-hero-bg-pattern"></div>
  <div class="pv-bh-hero-inner">
    <img class="pv-bh-hero-logo" src="/img/panicvault.png" alt="PanicVault" width="96" height="96">
    <div class="pv-hero-badge">Browser Extension</div>
    <h1>Fill Passwords in Your Browser with <span class="pv-hero-vault">Touch ID</span></h1>
    <p class="pv-bh-hero-sub">PanicVault's browser extension brings AutoFill to Chromium browsers on Mac — powered by Touch ID and your local vault.</p>
    <div class="pv-bh-browsers">
      <div class="pv-bh-browser" title="Google Chrome">
        <img src="/img/browsers/chrome.svg" alt="Chrome" width="40" height="40">
        <span>Chrome</span>
      </div>
      <div class="pv-bh-browser" title="Brave">
        <img src="/img/browsers/brave.svg" alt="Brave" width="40" height="40">
        <span>Brave</span>
      </div>
      <div class="pv-bh-browser" title="Microsoft Edge">
        <img src="/img/browsers/edge.svg" alt="Edge" width="40" height="40">
        <span>Edge</span>
      </div>
      <div class="pv-bh-browser" title="Arc">
        <img src="/img/browsers/arc.svg" alt="Arc" width="40" height="40">
        <span>Arc</span>
      </div>
      <div class="pv-bh-browser" title="Chromium">
        <img src="/img/browsers/chromium.svg" alt="Chromium" width="40" height="40">
        <span>Chromium</span>
      </div>
    </div>
  </div>
</section>

<!-- Download Cards -->
<section class="pv-section pv-bh-cards-section">
  <div class="pv-section-inner">
    <div class="pv-bh-cards">

      <div class="pv-bh-card pv-bh-card-primary">
        <div class="pv-bh-card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        </div>
        <h2>Install Browser Helper</h2>
        <p>Download the macOS installer (.pkg) that configures the native messaging helper for all your browsers automatically.</p>
        <a class="pv-bh-card-btn" href="/PanicVaultBrowserHelper.pkg">Download Installer</a>
        <span class="pv-bh-card-meta">macOS .pkg &middot; No terminal required</span>
      </div>

      <div class="pv-bh-card pv-bh-card-primary">
        <div class="pv-bh-card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        </div>
        <h2>Get the Extension</h2>
        <p>Add PanicVault to Chrome, Brave, Edge, or Arc from the Chrome Web Store. All Chromium browsers use the same store.</p>
        <a class="pv-bh-card-btn" href="https://chromewebstore.google.com/detail/panicvault/fhmfaaopcbpcfaednjoemhokncpkibnm">Add to Chrome</a>
        <span class="pv-bh-card-meta">Chrome Web Store &middot; Free</span>
      </div>

      <div class="pv-bh-card">
        <div class="pv-bh-card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
        </div>
        <h2>Uninstall Helper</h2>
        <p>Remove the browser helper, native messaging manifests, and package receipt from your Mac.</p>
        <a class="pv-bh-card-btn pv-bh-card-btn-secondary" href="/PanicVaultBrowserHelper-Uninstall.pkg">Download Uninstaller</a>
        <span class="pv-bh-card-meta">macOS .pkg &middot; Restart browser after</span>
      </div>

    </div>
  </div>
</section>

<!-- How It Works -->
<section class="pv-section pv-bh-how-section">
  <div class="pv-section-inner">
    <div class="pv-section-label">How It Works</div>
    <h2>Three ways to fill</h2>
    <p class="pv-section-subtitle">The extension connects to a local helper on your Mac. Your passwords never leave your device.</p>

    <div class="pv-bh-how-grid">
      <div class="pv-bh-how-card pv-reveal">
        <div class="pv-bh-how-icon">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#e63946" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
        </div>
        <h3>Inline Dropdown</h3>
        <p>Focus a login field and a dropdown appears below it with matching credentials. Authenticate with Touch ID and click to fill.</p>
      </div>
      <div class="pv-bh-how-card pv-reveal">
        <div class="pv-bh-how-icon">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#e63946" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
        </div>
        <h3>Toolbar Popup</h3>
        <p>Click the PanicVault icon in the toolbar to search, browse, and fill any credential — or copy a TOTP code.</p>
      </div>
      <div class="pv-bh-how-card pv-reveal">
        <div class="pv-bh-how-icon">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#e63946" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        </div>
        <h3>TOTP Codes</h3>
        <p>After filling your password, open the popup to view and auto-fill your two-factor authentication code.</p>
      </div>
    </div>
  </div>
</section>

<!-- What It Does -->
<section class="pv-section pv-bh-features-section">
  <div class="pv-section-inner">
    <div class="pv-section-label">Features</div>
    <h2>What it does</h2>
    <div class="pv-bh-features">
      <span class="pv-bh-feature-pill pv-reveal">AutoFill usernames &amp; passwords</span>
      <span class="pv-bh-feature-pill pv-reveal">Touch ID authentication</span>
      <span class="pv-bh-feature-pill pv-reveal">TOTP two-factor codes</span>
      <span class="pv-bh-feature-pill pv-reveal">Passkey (WebAuthn) support</span>
      <span class="pv-bh-feature-pill pv-reveal">URL-based credential matching</span>
      <span class="pv-bh-feature-pill pv-reveal">Completely local &mdash; no server</span>
      <span class="pv-bh-feature-pill pv-reveal">Works with all Chromium browsers</span>
      <span class="pv-bh-feature-pill pv-reveal">Automatic browser detection</span>
    </div>
  </div>
</section>

<!-- Troubleshooting -->
<section class="pv-section pv-bh-trouble-section">
  <div class="pv-section-inner">
    <div class="pv-section-label">Troubleshooting</div>
    <h2>Common issues</h2>

    <div class="pv-bh-trouble-grid">
      <div class="pv-bh-trouble-item pv-reveal">
        <h3>Helper Not Found</h3>
        <p>If the extension shows "PanicVault helper not found," re-download and run the installer from PanicVault Settings &gt; Browser Extension. Verify that <code>~/Library/Application Support/PanicVault/PanicVaultChromeHelper</code> exists.</p>
      </div>
      <div class="pv-bh-trouble-item pv-reveal">
        <h3>Extension Not Detected</h3>
        <p>Restart your browser after installing the helper. Browsers read native messaging manifests only at startup.</p>
      </div>
      <div class="pv-bh-trouble-item pv-reveal">
        <h3>Touch ID Not Prompted</h3>
        <p>Make sure you've unlocked your vault at least once in PanicVault with your master password, and that Touch ID is enabled in PanicVault settings.</p>
      </div>
      <div class="pv-bh-trouble-item pv-reveal">
        <h3>No Credentials Shown</h3>
        <p>The extension matches by URL. Ensure your vault entries have a URL field matching the site you're visiting, and that the vault has been unlocked this session.</p>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="pv-download">
  <div class="pv-download-inner">
    <h2>Get PanicVault</h2>
    <p>One purchase. All your devices. No subscription.</p>
    <a class="pv-cta-button" href="https://apps.apple.com/app/id6759188575">
      <svg viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.8-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
      Download on the App Store
    </a>
    <div class="pv-price-tag">Universal purchase &middot; iPhone &middot; iPad &middot; Mac</div>
  </div>
</section>
{{ end }}

{{ define "scripts" }}
{{ partial "reveal-script.html" . }}
{{ end }}
